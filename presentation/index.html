<!DOCTYPE html> <html lang=en> <head> <title>SHRI F(x) Talks</title> <meta charset=utf-8> <meta http-equiv=x-ua-compatible content="ie=edge"> <meta name=viewport content="width=device-width,initial-scale=1"> <link rel=stylesheet href=/talks/styles/screen-16x10.css> <link rel=stylesheet href=/talks/libs/highlight/styles/atom-one-light.css> </head> <body class="shower list"> <header class=caption> <h1>Визуализация данных на Яндекс.Картах</h1> <p>ШРИ F(x)</p> </header> <section class="slide slide-cover" id=cover> <h2>Визуализация данных на Яндекс.Картах</h2> </section> <section class="slide slide-cover" style=background-color:#fdcc2d> <h2 class=center>Продукт</h2> </section> <section class=slide> <h2>Что такое визуализация?</h2> <figure> <blockquote> <p><strong>Визуализация</strong> (от лат. visualis, «зрительный») — общее название приёмов представления числовой информации или физического явления в виде, удобном для зрительного наблюдения и анализа.</p> </blockquote> <figcaption>Википедия</figcaption> </figure> </section> <section class=slide> <h2>Пример — Таблица</h2> <p>Велопарковки г. Москвы:</p> <table> <tr> <th scope=col>Район</th> <th>Количество, шт.</th> </tr> <tr> <td>Филёвский Парк</td> <td>1</td> </tr> <tr> <td>Матушкино</td> <td>3</td> </tr> <tr> <td>Савёлки</td> <td>11</td> </tr> <tr> <td>Внуковское</td> <td>2</td> </tr> <tr> <td>Силино</td> <td>7</td> </tr> <tr> <td>Крюково</td> <td>6</td> </tr> </table> </section> <section class=slide> <h2>Пример — График</h2> <figure> <img src=/talks/pictures/pres2-chart.png alt=График> </figure> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-dotmap.png alt="Dot map"> </figure> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-bubblemap.png alt="Bubble map"> </figure> </section> <section class=slide> <h2>Задача</h2> <p>Сделать два модуля API Яндекс.Карт для визуализации:</p> <ul> <li><strong>Региональная инфографика</strong></li> <li><strong>Cетчатая карта</strong></li> </ul> </section> <section class=slide> <h2>Решение</h2> <ul> <li><strong>Polygonmap</strong> — работает с любыми полигонами.</li> <li><strong>Regionmap</strong> — работает с модулем Регионы API Яндекс.Карт.</li> <li><strong>Gridmap</strong> — генерирует сетку.</li> <li><strong>GridmapLayer</strong> — генерирует сетку на canvas-е.</li> </ul> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-example-1.png alt=Polygonmap> </figure> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-example-2.png alt=Regionmap> </figure> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-example-3.png alt=Gridmap> </figure> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-example-4.png alt=GridmapLayer> </figure> </section> <section class=slide> <h2>Фичи</h2> <ul> <li>Расчет сетки (Gridmap и GridmapLayer)</li> <li>Расчет вхождения точки в полигон</li> <li>Расчет палитры</li> <li>Создание легенды</li> <li>Фильтрация</li> <li>Стилизация</li> <li>Интерактивность</li> <li>Создание балуна</li> </ul> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-feature-1.png alt="Расчет сетки"> </figure> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-feature-2.png alt="Расчет вхождения точки в полигон"> </figure> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-feature-3.png alt="Расчет палитры"> </figure> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-feature-4.png alt="Создание легенды"> </figure> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-feature-5.png alt=Фильтрация> </figure> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-feature-6.png alt=Стилизация> </figure> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-feature-7.gif alt=Интерактивность> </figure> </section> <section class=slide> <h2>Кто наш пользователь?</h2> <ul> <li>Веб-мастер</li> <li>Команда разработчиков</li> </ul> </section> <section class=slide> <h2 class="white shadow">Веб-мастер</h2> <figure> <img class="cover cover-full-height" src=/talks/pictures/pres2-webmaster.jpg alt=Webmaster> </figure> </section> <section class=slide> <h2 class="white shadow">Команда разработчиков</h2> <figure> <img class="cover cover-full-width" src=/talks/pictures/pres2-team.jpg alt=Team> </figure> </section> <section class="slide slide-cover" style=background-color:#fdcc2d> <h2 class=center>Техническая часть</h2> </section> <section class=slide> <h2>Технологии</h2> <ul> <li><strong>Vanilla JS</strong></li> <li><strong>API Яндекс.Карт</strong></li> </ul> </section> <section class=slide> <h2>Архитектура</h2> <figure> <img src=/talks/pictures/arc.png alt=arc> </figure> </section> <section class=slide> <h2>Алгоритмы</h2> <ul> <li> bbox </li> </ul> <div class=algo-pics> <div> <img src=/talks/pictures/algo1.png alt=algo1> </div> </div> </section> <section class=slide> <h2>Алгоритмы</h2> <ul> <li> Трассировка луча </li> </ul> <div class=algo-pics> <img src=/talks/pictures/algo2.png alt=algo2> <img style=width:45%;float:right src=/talks/pictures/algo3.gif alt=algo3> </div> </section> <section class=slide> <h2>Перформанс</h2> <figure> <img src=/talks/pictures/pres2-performance-1.png alt=Performance> </figure> </section> <section class="slide slide-cover" style=background-color:#fdcc2d> <h2 class=center>Демо</h2> </section> <section class=slide> <h2>С чего начать?</h2> <ul> <li class=next>Заходим на <a href=https://github.com/yandex-shri-fx-team target=_blank>GitHub</a> и скачиваем нужный модуль (например, <a href=https://github.com/yandex-shri-fx-team/ymaps-polygonmap target=_blank>Polygonmap</a>)</li> <li class=next>Читаем <a href=https://github.com/yandex-shri-fx-team/ymaps-polygonmap#readme target=_blank>документацию</a></li> <li class=next>Готовим данные в формате <a class="b-link wiki-ref_js_inited" href=http://geojson.org target=_blank title="Внешняя ссылка (откроется в новом окне)">GeoJSON</a> </li> <li class=next><a href=https://tech.yandex.ru/maps/doc/jsapi/2.1/dg/concepts/load-docpage/ target=_blank>Подключаем API Яндекс.Карт</a></li> <li class=next><a href=https://github.com/yandex-shri-fx-team/ymaps-polygonmap#loading target=_blank>Подключаем модуль</a></li> </ul> </section> <section class=slide> <h2>Инициализация</h2> <pre>
            <code class=js>ymaps.ready(() => {
    const myMap = new ymaps.Map('map', { /* ... */ });
    ymaps.modules.require(['Polygonmap'], (Polygonmap) => {
        const polygonmap = new Polygonmap({polygons, points});
        polygonmap.setMap(myMap);
    });
});
            </code>
        </pre> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/pres2-example-1.png alt=Polygonmap> </figure> </section> <section class=slide> <h2 style=text-align:center>"А давайте поменяем"</h2> <ul class="ul-no-dot center"> <li><input type=checkbox><label for="">Цвета не нравятся и их мало</label></li> <li><input type=checkbox><label for="">Не видно карту под полигонами</label></li> <li><input type=checkbox><label for="">Границы слишком белые</label></li> <li><input type=checkbox><label for="">Легенда не в том углу</label></li> </ul> </section> <section class=slide> <h2 class=center>"Ща, 5 сек"</h2> </section> <section class=slide> <h3>Цвета не нравятся и их мало</h3> <pre>
        <code class=js>ymaps.modules.require(['Polygonmap'], (Polygonmap) => {
    const polygonmap = new Polygonmap({polygons, points}, {
        colorScheme: 'summer',
        colorRanges: 10
    });
    polygonmap.setMap(myMap);
});
        </code>
        </pre> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/demo-1.png alt=Polygonmap> </figure> </section> <section class=slide> <h3>Не видно карту под полигонами</h3> <pre>
            <code class=js>ymaps.modules.require(['Polygonmap'], (Polygonmap) => {
    const polygonmap = new Polygonmap({polygons, points}, {
        colorScheme: 'summer',
        colorRanges: 10,
        fillOpacity: 0.7
    });
    polygonmap.setMap(myMap);
});
                </code>
                </pre> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/demo-2.png alt=Polygonmap> </figure> </section> <section class=slide> <h3>Границы слишком белые</h3> <pre>
            <code class=js>ymaps.modules.require(['Polygonmap'], (Polygonmap) => {
    const polygonmap = new Polygonmap({polygons, points}, {
        colorScheme: 'summer',
        colorRanges: 10,
        fillOpacity: 0.7,
        strokeColor: '#666',
        strokeWidth: 1
    });
    polygonmap.setMap(myMap);
});
            </code>
        </pre> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/demo-3.png alt=Polygonmap> </figure> </section> <section class=slide> <h3>Легенда не в том углу</h3> <pre>
            <code class=js>const polygonmap = new Polygonmap({polygons, points}, {
    colorScheme: 'summer',
    colorRanges: 10,
    fillOpacity: 0.7,
    strokeColor: '#666',
    strokeWidth: 1,
    legendPosition: {top: 20, left: 20}
});
            </code>
            </pre> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/demo-4.png alt=Polygonmap> </figure> </section> <section class=slide> <h2 style=text-align:center>Well done</h2> <ul class="ul-no-dot center"> <li> <input type=checkbox checked=checked> <label for="">Цвета не нравятся и их мало</label> </li> <li> <input type=checkbox checked=checked> <label for="">Не видно карту под полигонами</label> </li> <li> <input type=checkbox checked=checked> <label for="">Границы слишком белые</label> </li> <li> <input type=checkbox checked=checked> <label for="">Легенда не в том углу</label> </li> </ul> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/demo-5.png alt=Polygonmap> </figure> </section> <section class=slide> <h2 style=text-align:center;text-decoration:line-through>Well done</h2> <ul class="ul-no-dot center"> <li> <input type=checkbox checked=checked> <label for="">Цвета не нравятся и их мало</label> </li> <li> <input type=checkbox checked=checked> <label for="">Не видно карту под полигонами</label> </li> <li> <input type=checkbox checked=checked> <label for="">Границы слишком белые</label> </li> <li> <input type=checkbox checked=checked> <label for="">Легенда не в том углу</label> </li> <li> <input type=checkbox> <label for="">Не нравится всплывающее окно</label> </li> </ul> </section> <section class=slide> <h3> <strong>Не нравится всплывающее окно</strong> </h3> <pre>
                <code class=js>const polygonmap = new Polygonmap({polygons, points}, {
    balloonContent(object) {
        return `&lt;div&gt;
            &lt;div&gt;Район: ${object.properties.NAME}&lt;/div&gt;
            &lt;div&gt;
                ${object.properties.pointsCount} 🚴🚴🚴🚴
            &lt;/div&gt;
        &lt;/div&gt;`;
    }
});
                </code>
                    </pre> </section> <section class=slide> <figure> <img class=cover src=/talks/pictures/demo-6.png alt=Polygonmap> </figure> </section> <section class=slide> <h2 style=text-align:center>Well done</h2> <ul class="ul-no-dot center"> <li> <input type=checkbox checked=checked> <label for="">Цвета не нравятся и их мало</label> </li> <li> <input type=checkbox checked=checked> <label for="">Не видно карту под полигонами</label> </li> <li> <input type=checkbox checked=checked> <label for="">Границы слишком белые</label> </li> <li> <input type=checkbox checked=checked> <label for="">Легенда не в том углу</label> </li> <li> <input type=checkbox checked=checked> <label for="">Не нравится всплывающее окно</label> </li> </ul> </section> <section class=slide> <h2 style=float:left>Спасибо</h2> <div style=position:absolute;right:45px;top:130px> <a style="width:100%;background:0 0" href=https://yandex-shri-fx-team.github.io/ymaps-polygonmap/main/ target=_blank> <img src=http://qrcoder.ru/code/?https%3A%2F%2Fyandex-shri-fx-team.github.io%2Fymaps-polygonmap%2Fmain%2F&6&0 width=430 height=430 border=0 title="QR код"> </a> </div> <div style=clear:both></div> <div style=line-height:30px> <div> Руслан Хуснетдинов </div> <div> Виталий Андрюшков </div> <div> Денис Токарев </div> <div> Кирилл Шацкий </div> <div style=margin-bottom:20px></div> <div> Арина Мудренова </div> <div> Артур Покрашенко </div> <div> Иван Власенко </div> <div> Михаил Березин </div> <div> Шухрат Шадмонкулов </div> <div style=margin-bottom:40px></div> <svg style=display:inline-block;vertical-align:middle height=32 class="octicon octicon-mark-github" viewBox="0 0 16 16" version=1.1 width=32 aria-hidden=true> <path fill-rule=evenodd d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path> </svg> <a href=https://github.com/yandex-shri-fx-team> <b>yandex-shri-fx-team</b> </a> </div> </section> <script src=/talks/libs/shower/shower.min.js></script> <script src=/talks/libs/highlight/highlight.pack.js></script> <script>hljs.initHighlightingOnLoad()</script> <script type="text/javascript" src="../src/presentation.js"></script></body> </html> 